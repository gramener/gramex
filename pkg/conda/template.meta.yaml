package:
  name: "{{ release.info.name }}"
  version: "{{ release.info.version }}"

source:
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 494a9c152c096e6b4eec089c5fb223b67f330ef792449d3e089d7ecc430825cf

about:
  home: "{{ release.info.url }}"
  license: "{{ release.info.license }}"
  license_family: "{{ release.info.license }}"
  license_file: "LICENSE"
  summary: "{{ release.info.description }}"
  doc_url: "{{ release.info.url }}"
  dev_url: "{{ release.info.download_url }}"

build:
  number: 1
  entry_points: {% raw json.dumps(release.console) %}

requirements:
  build:
    - pip
    - setuptools
    - python
    - colorama
    - h5py
    - lxml
    - matplotlib
    - pandas
    - pytest
    - seaborn
    - sqlalchemy
    - tzlocal
    - scikit-learn
    - pyyaml>=5.1
  run:
    - python          # REQ: conda: Base Python
    - pip             # REQ: conda: Set up pip packages
    - nodejs>=7.6     # REQ: conda: CaptureHandler, apps/ui, etc
    - yarn            # REQ: conda: gramex setup (conda-forge)
    - conda

    {% for entry in release.lib %}
    - "{% raw entry %}"
    {% end %}
    {% for entry in release.conda %}
    - "{% raw entry %}"
    {% end %}

test:
  imports:
    - gramex
  commands:
    - gramex
