# UI app configuration

url:
  apps/ui/static-$*:
    pattern: /$YAMLURL/(.*)
    handler: FunctionHandler
    kwargs:
      function: >
        gramex.apps.ui.cdn_redirect(handler, folder_map={
          'd3v5': 'd3@5',
          'bootstrap5': 'bootstrap@5',
          'daterangepickerv3': 'daterangepicker@3',
          'url-search-params': '@ungap/url-search-params',
        })
      auth: false

  apps/ui/theme-$*:
    pattern: /$YAMLURL/theme/(.*)
    handler: FileHandler
    kwargs:
      path:
        '(.+\.scss)': "$YAMLPATH/theme/{0}"
        '(.+\.png)': "$YAMLPATH/theme/{0}"
        ".+": $YAMLPATH/theme/sample.html
        ".*": $YAMLPATH/theme/index.html
      sass: "*.scss, *.sass"
      template: "*.html"
      auth: false
      headers:
        Cache-Control: public, max-age=86400

  apps/ui/bootstrap4-$*:
    pattern: /$YAMLURL/bootstraptheme.css
    handler: FunctionHandler
    kwargs:
      function: gramex.apps.ui.sass
      auth: false
      headers:
        Cache-Control: public, max-age=86400
