# Generated by gramex init {{ version }} (don't delete this line)
# on {{ date }} by {{ author }} <{{ email }}>

# Configurations for app: {{ appname }}
# ----------------------------------------------------------------------------
url:
  {{ appname }}-home:
    pattern: /$YAMLURL/
    handler: FileHandler
    kwargs:
      path: $YAMLPATH/index.html
      # See https://gramener.com/gramex/guide/auth/#authorization for auth rules
      auth:
        login_url: /$YAMLURL/login/
      template: ["index.html", "template*.html"]
      headers:
        # Templates may have user-specific content. Cache privately.
        # Keep max-age small (in case we log out & log in as another user.)
        Cache-Control: private, max-age=1
    cache: { expiry: { duration: 1 } }

  {{ appname }}-login:
    pattern: /$YAMLURL/login/
    # You MUST change the auth before deploying. DBAuth is commonly used.
    # See https://gramener.com/gramex/guide/auth/#database-auth
    handler: SimpleAuth
    kwargs:
      template: $YAMLPATH/login.html
      credentials:
        alpha: alpha
        beta: beta

  {{ appname }}-logout:
    pattern: /$YAMLURL/logout/
    handler: LogoutHandler

# Gramex init configurations for app: {{ appname }}
# ----------------------------------------------------------------------------
import:
  # To secure application for production,
  # replace 'YOUR-PROD-SERVER-NAME' with your production server host name.
  deploy if socket.gethostname() in {'YOUR-PROD-SERVER-NAME'}: $GRAMEXPATH/deploy.yaml
  # For alternate methods, see https://gramener.com/gramex/guide/config/#conditions

  # /ui/ has Gramex UI components -- use this like the node_modules/ directory
  ui:
    path: $GRAMEXAPPS/ui/gramex.yaml
    YAMLURL: $YAMLURL/ui/
